{"code":2,"level":"error","name":"Cart input error","status":400}
{"level":"error"}
{"level":"error","message":"127.0.0.1 - there's no place like home"}
{"level":"error","message":"127.0.0.1 - there's no place like home"}
{"level":"error","message":"127.0.0.1 - there's no place like home"}
{"level":"error","message":"127.0.0.1 - there's no place like home"}
{"level":"error","message":"127.0.0.1 - there's no place like home"}
{"level":"error","message":"127.0.0.1 - there's no place like home"}
{"level":"error","message":"127.0.0.1 - there's no place like home"}
{"level":"error","message":"127.0.0.1 - there's no place like home"}
{"level":"error","message":"127.0.0.1 - there's no place like home"}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"body":"4","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"4","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"4","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"code":2,"level":"error","name":"Cart input error","status":400}
{"code":2,"level":"error","name":"Cart input error","status":400}
{"body":"4","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"4","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"4","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"4","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"4","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"646cee41af75b5ab7ceaeb\" (type string) at path \"_id\" for model \"products\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"646cee41af75b5ab7ceaeb\"","value":"646cee41af75b5ab7ceaeb","valueType":"string"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"646cee41af75b5ab7ceaeb\" (type string) at path \"_id\" for model \"products\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"646cee41af75b5ab7ceaeb\"","value":"646cee41af75b5ab7ceaeb","valueType":"string"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"646cee41af75b5ab7ceaeb\" (type string) at path \"_id\" for model \"products\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"646cee41af75b5ab7ceaeb\"","value":"646cee41af75b5ab7ceaeb","valueType":"string"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"646cee41af75b5ab7ceaeb\" (type string) at path \"_id\" for model \"products\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"646cee41af75b5ab7ceaeb\"","value":"646cee41af75b5ab7ceaeb","valueType":"string"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"646cee41af75b5ab7ceaeb\" (type string) at path \"_id\" for model \"products\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"646cee41af75b5ab7ceaeb\"","value":"646cee41af75b5ab7ceaeb","valueType":"string"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"646cee41af75b5ab7ceaeb\" (type string) at path \"_id\" for model \"products\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"646cee41af75b5ab7ceaeb\"","value":"646cee41af75b5ab7ceaeb","valueType":"string"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"646cee41af75b5ab7ceaeb\" (type string) at path \"_id\" for model \"products\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"646cee41af75b5ab7ceaeb\"","value":"646cee41af75b5ab7ceaeb","valueType":"string"}
{"level":"error","message":"Error: products is not defined","stack":"ReferenceError: products is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:71:26)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:276:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:72:9"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","message":"Error creating token: Unexpected token u in JSON at position 0","stack":"SyntaxError: Unexpected token u in JSON at position 0\n    at JSON.parse (<anonymous>)\n    at generateToken (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/auth.js:49:26)\n    at SessionsRouter.loginGitHubCallback (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:48:21)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:72:24\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:88:37\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at generateCustomResponses (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:42:5)"}
{"level":"error","message":"Error creating token: Unexpected token u in JSON at position 0","stack":"SyntaxError: Unexpected token u in JSON at position 0\n    at JSON.parse (<anonymous>)\n    at generateToken (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/auth.js:49:26)\n    at SessionsRouter.loginGitHubCallback (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:48:21)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:72:24\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:103:6\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at generateCustomResponses (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:42:5)"}
{"level":"error","message":"Error creating token: Unexpected token u in JSON at position 0","stack":"SyntaxError: Unexpected token u in JSON at position 0\n    at JSON.parse (<anonymous>)\n    at generateToken (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/auth.js:49:26)\n    at SessionsRouter.loginGitHubCallback (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:49:21)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:72:24\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:103:6\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at generateCustomResponses (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:42:5)"}
{"level":"error","message":"Error creating token: Unexpected token u in JSON at position 0","stack":"SyntaxError: Unexpected token u in JSON at position 0\n    at JSON.parse (<anonymous>)\n    at generateToken (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/auth.js:49:26)\n    at SessionsRouter.loginGitHubCallback (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:53:21)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:72:24\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at generateCustomResponses (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:42:5)\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:59:54"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'info')","stack":"TypeError: Cannot read properties of undefined (reading 'info')\n    at CartsRouter.checkoutCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:328:20)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'info')","stack":"TypeError: Cannot read properties of undefined (reading 'info')\n    at CartsRouter.checkoutCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:328:20)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'debug')","stack":"TypeError: Cannot read properties of undefined (reading 'debug')\n    at CartsRouter.checkoutCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:328:20)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'debug')","stack":"TypeError: Cannot read properties of undefined (reading 'debug')\n    at CartsRouter.checkoutCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:328:20)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'debug')","stack":"TypeError: Cannot read properties of undefined (reading 'debug')\n    at CartsRouter.checkoutCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:328:20)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'debug')","stack":"TypeError: Cannot read properties of undefined (reading 'debug')\n    at CartsRouter.checkoutCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:328:20)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'debug')","stack":"TypeError: Cannot read properties of undefined (reading 'debug')\n    at CartsRouter.checkoutCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:328:20)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error"}
{"_message":"Users validation failed","errors":{"cart":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"4ee3232d-a06c-452a-a541-52d2fa628516\" (type string) at path \"cart\" because of \"BSONError\"","name":"CastError","path":"cart","reason":{},"stringValue":"\"4ee3232d-a06c-452a-a541-52d2fa628516\"","value":"4ee3232d-a06c-452a-a541-52d2fa628516","valueType":"string"}},"level":"error","message":"Users validation failed: cart: Cast to ObjectId failed for value \"4ee3232d-a06c-452a-a541-52d2fa628516\" (type string) at path \"cart\" because of \"BSONError\"","name":"ValidationError"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","message":"Error decoding token: Cannot access 'user' before initialization","stack":"ReferenceError: Cannot access 'user' before initialization\n    at Socket.<anonymous> (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/sockets/cart.sockets.js:52:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"Error decoding token: Cannot access 'user' before initialization","stack":"ReferenceError: Cannot access 'user' before initialization\n    at Socket.<anonymous> (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/sockets/cart.sockets.js:53:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"Error decoding token: Cannot access 'user' before initialization","stack":"ReferenceError: Cannot access 'user' before initialization\n    at Socket.<anonymous> (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/sockets/cart.sockets.js:53:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"Error decoding token: Cannot access 'user' before initialization","stack":"ReferenceError: Cannot access 'user' before initialization\n    at Socket.<anonymous> (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/sockets/cart.sockets.js:53:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"Error decoding token: Cannot access 'user' before initialization","stack":"ReferenceError: Cannot access 'user' before initialization\n    at Socket.<anonymous> (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/sockets/cart.sockets.js:53:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error"}
{"level":"error"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ cart: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ cart: undefined }\"","value":{},"valueType":"Object"}
{"level":"error"}
{"level":"error"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ cart: '64cd7cb9802eaf715fb09f84' }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ cart: '64cd7cb9802eaf715fb09f84' }\"","value":{"cart":"64cd7cb9802eaf715fb09f84"},"valueType":"Object"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:90:51)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:90:51)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:90:51)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:90:51)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:90:51)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:90:51)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:90:51)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:89:54)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:89:54)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:89:54)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:89:54)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"body":"null","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"-2","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"-2","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"-2","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"-2","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"code":2,"level":"error","name":"Product input error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"level":"error"}
{"_message":"products validation failed","errors":{"owner":{"kind":"string","message":"Cast to string failed for value \"AdminDTO {\n  id: 0,\n  first_name: 'Admin',\n  last_name: 'Admin',\n  age: 0,\n  role: 'admin',\n  email: 'adminCoder@coder.com'\n}\" (type AdminDTO) at path \"owner\"","name":"CastError","path":"owner","reason":null,"stringValue":"\"AdminDTO {\n  id: 0,\n  first_name: 'Admin',\n  last_name: 'Admin',\n  age: 0,\n  role: 'admin',\n  email: 'adminCoder@coder.com'\n}\"","value":{"age":0,"email":"adminCoder@coder.com","first_name":"Admin","id":0,"last_name":"Admin","role":"admin"},"valueType":"AdminDTO"}},"level":"error","message":"products validation failed: owner: Cast to string failed for value \"AdminDTO {\n  id: 0,\n  first_name: 'Admin',\n  last_name: 'Admin',\n  age: 0,\n  role: 'admin',\n  email: 'adminCoder@coder.com'\n}\" (type AdminDTO) at path \"owner\"","name":"ValidationError"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","view":{"defaultEngine":"handlebars","ext":".handlebars","name":"productPage","root":"/Users/luli/Desktop/entrega 3/Re-estructura/src/views"}}
{"level":"error","view":{"defaultEngine":"handlebars","ext":".handlebars","name":"productPage","root":"/Users/luli/Desktop/entrega 3/Re-estructura/src/views"}}
{"level":"error","message":"Error fetching product: Cannot read properties of null (reading 'owner')","stack":"TypeError: Cannot read properties of null (reading 'owner')\n    at ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:19:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error","message":"Error fetching product: Cannot read properties of null (reading 'owner')","stack":"TypeError: Cannot read properties of null (reading 'owner')\n    at ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:19:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error","message":"Missing helper: \"eq\"","name":"Error"}
{"level":"error","message":"#if requires exactly one argument","name":"Error"}
{"level":"error","message":"#if requires exactly one argument","name":"Error"}
{"level":"error"}
{"level":"error","message":"Missing helper: \"eq\"","name":"Error"}
{"level":"error","message":"Missing helper: \"eq\"","name":"Error"}
{"level":"error","message":"Missing helper: \"eq\"","name":"Error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","message":"Missing helper: \"includes\"","name":"Error"}
{"level":"error","message":"Missing helper: \"eq\"","name":"Error"}
{"level":"error","message":"Missing helper: \"include\"","name":"Error"}
{"level":"error","message":"Missing helper: \"include\"","name":"Error"}
{"level":"error","message":"Missing helper: \"include\"","name":"Error"}
{"kind":"ObjectId","level":"error","message":"Error decoding token: Cast to ObjectId failed for value \"{ cart: new ObjectId(\"64da7cb1f16471da36399e65\") }\" (type Object) at path \"_id\" for model \"Users\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"{ cart: new ObjectId(\"64da7cb1f16471da36399e65\") }\" (type Object) at path \"_id\" for model \"Users\"\n    at ObjectId.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at ObjectId.SchemaType.applySetters (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1220:12)\n    at ObjectId.SchemaType.castForQuery (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1632:15)\n    at cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/cast.js:298:34)\n    at model.Query.Query.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4900:12)\n    at model.Query.Query._castConditions (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2223:10)\n    at model.Query._findOneAndUpdate (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:3291:8)\n    at model.Query.exec (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4419:28)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"{ cart: new ObjectId(\"64da7cb1f16471da36399e65\") }\"","value":{"cart":"64da7cb1f16471da36399e65"},"valueType":"Object"}
{"kind":"ObjectId","level":"error","message":"Error decoding token: Cast to ObjectId failed for value \"{ cart: new ObjectId(\"64da7cb1f16471da36399e6c\") }\" (type Object) at path \"_id\" for model \"Users\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"{ cart: new ObjectId(\"64da7cb1f16471da36399e6c\") }\" (type Object) at path \"_id\" for model \"Users\"\n    at ObjectId.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at ObjectId.SchemaType.applySetters (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1220:12)\n    at ObjectId.SchemaType.castForQuery (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1632:15)\n    at cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/cast.js:298:34)\n    at model.Query.Query.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4900:12)\n    at model.Query.Query._castConditions (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2223:10)\n    at model.Query._findOneAndUpdate (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:3291:8)\n    at model.Query.exec (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4419:28)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"{ cart: new ObjectId(\"64da7cb1f16471da36399e6c\") }\"","value":{"cart":"64da7cb1f16471da36399e6c"},"valueType":"Object"}
{"level":"error","message":"Missing helper: \"include\"","name":"Error"}
{"kind":"ObjectId","level":"error","message":"Error decoding token: Cast to ObjectId failed for value \"{ cart: new ObjectId(\"64da7cd9f16471da36399e8b\") }\" (type Object) at path \"_id\" for model \"Users\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"{ cart: new ObjectId(\"64da7cd9f16471da36399e8b\") }\" (type Object) at path \"_id\" for model \"Users\"\n    at ObjectId.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at ObjectId.SchemaType.applySetters (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1220:12)\n    at ObjectId.SchemaType.castForQuery (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1632:15)\n    at cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/cast.js:298:34)\n    at model.Query.Query.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4900:12)\n    at model.Query.Query._castConditions (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2223:10)\n    at model.Query._findOneAndUpdate (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:3291:8)\n    at model.Query.exec (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4419:28)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"{ cart: new ObjectId(\"64da7cd9f16471da36399e8b\") }\"","value":{"cart":"64da7cd9f16471da36399e8b"},"valueType":"Object"}
{"code":2,"level":"error","name":"Product input error","status":400}
{"code":2,"level":"error","name":"Product input error","status":400}
