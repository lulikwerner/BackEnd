{"code":2,"level":"error","name":"Cart input error","status":400}
{"level":"error"}
{"level":"error","message":"127.0.0.1 - there's no place like home"}
{"level":"error","message":"127.0.0.1 - there's no place like home"}
{"level":"error","message":"127.0.0.1 - there's no place like home"}
{"level":"error","message":"127.0.0.1 - there's no place like home"}
{"level":"error","message":"127.0.0.1 - there's no place like home"}
{"level":"error","message":"127.0.0.1 - there's no place like home"}
{"level":"error","message":"127.0.0.1 - there's no place like home"}
{"level":"error","message":"127.0.0.1 - there's no place like home"}
{"level":"error","message":"127.0.0.1 - there's no place like home"}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"level":"error","message":"Error: There is not enough stock","statusCode":400}
{"body":"4","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"4","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"4","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"code":2,"level":"error","name":"Cart input error","status":400}
{"code":2,"level":"error","name":"Cart input error","status":400}
{"body":"4","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"4","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"4","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"4","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"4","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"646cee41af75b5ab7ceaeb\" (type string) at path \"_id\" for model \"products\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"646cee41af75b5ab7ceaeb\"","value":"646cee41af75b5ab7ceaeb","valueType":"string"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"646cee41af75b5ab7ceaeb\" (type string) at path \"_id\" for model \"products\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"646cee41af75b5ab7ceaeb\"","value":"646cee41af75b5ab7ceaeb","valueType":"string"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"646cee41af75b5ab7ceaeb\" (type string) at path \"_id\" for model \"products\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"646cee41af75b5ab7ceaeb\"","value":"646cee41af75b5ab7ceaeb","valueType":"string"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"646cee41af75b5ab7ceaeb\" (type string) at path \"_id\" for model \"products\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"646cee41af75b5ab7ceaeb\"","value":"646cee41af75b5ab7ceaeb","valueType":"string"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"646cee41af75b5ab7ceaeb\" (type string) at path \"_id\" for model \"products\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"646cee41af75b5ab7ceaeb\"","value":"646cee41af75b5ab7ceaeb","valueType":"string"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"646cee41af75b5ab7ceaeb\" (type string) at path \"_id\" for model \"products\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"646cee41af75b5ab7ceaeb\"","value":"646cee41af75b5ab7ceaeb","valueType":"string"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"646cee41af75b5ab7ceaeb\" (type string) at path \"_id\" for model \"products\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"646cee41af75b5ab7ceaeb\"","value":"646cee41af75b5ab7ceaeb","valueType":"string"}
{"level":"error","message":"Error: products is not defined","stack":"ReferenceError: products is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:71:26)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:276:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:72:9"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","message":"Error creating token: Unexpected token u in JSON at position 0","stack":"SyntaxError: Unexpected token u in JSON at position 0\n    at JSON.parse (<anonymous>)\n    at generateToken (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/auth.js:49:26)\n    at SessionsRouter.loginGitHubCallback (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:48:21)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:72:24\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:88:37\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at generateCustomResponses (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:42:5)"}
{"level":"error","message":"Error creating token: Unexpected token u in JSON at position 0","stack":"SyntaxError: Unexpected token u in JSON at position 0\n    at JSON.parse (<anonymous>)\n    at generateToken (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/auth.js:49:26)\n    at SessionsRouter.loginGitHubCallback (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:48:21)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:72:24\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:103:6\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at generateCustomResponses (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:42:5)"}
{"level":"error","message":"Error creating token: Unexpected token u in JSON at position 0","stack":"SyntaxError: Unexpected token u in JSON at position 0\n    at JSON.parse (<anonymous>)\n    at generateToken (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/auth.js:49:26)\n    at SessionsRouter.loginGitHubCallback (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:49:21)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:72:24\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:103:6\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at generateCustomResponses (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:42:5)"}
{"level":"error","message":"Error creating token: Unexpected token u in JSON at position 0","stack":"SyntaxError: Unexpected token u in JSON at position 0\n    at JSON.parse (<anonymous>)\n    at generateToken (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/auth.js:49:26)\n    at SessionsRouter.loginGitHubCallback (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:53:21)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:72:24\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at generateCustomResponses (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:42:5)\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:59:54"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'info')","stack":"TypeError: Cannot read properties of undefined (reading 'info')\n    at CartsRouter.checkoutCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:328:20)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'info')","stack":"TypeError: Cannot read properties of undefined (reading 'info')\n    at CartsRouter.checkoutCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:328:20)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'debug')","stack":"TypeError: Cannot read properties of undefined (reading 'debug')\n    at CartsRouter.checkoutCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:328:20)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'debug')","stack":"TypeError: Cannot read properties of undefined (reading 'debug')\n    at CartsRouter.checkoutCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:328:20)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'debug')","stack":"TypeError: Cannot read properties of undefined (reading 'debug')\n    at CartsRouter.checkoutCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:328:20)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'debug')","stack":"TypeError: Cannot read properties of undefined (reading 'debug')\n    at CartsRouter.checkoutCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:328:20)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error","message":"Error: Cannot read properties of undefined (reading 'debug')","stack":"TypeError: Cannot read properties of undefined (reading 'debug')\n    at CartsRouter.checkoutCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:328:20)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error"}
{"_message":"Users validation failed","errors":{"cart":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"4ee3232d-a06c-452a-a541-52d2fa628516\" (type string) at path \"cart\" because of \"BSONError\"","name":"CastError","path":"cart","reason":{},"stringValue":"\"4ee3232d-a06c-452a-a541-52d2fa628516\"","value":"4ee3232d-a06c-452a-a541-52d2fa628516","valueType":"string"}},"level":"error","message":"Users validation failed: cart: Cast to ObjectId failed for value \"4ee3232d-a06c-452a-a541-52d2fa628516\" (type string) at path \"cart\" because of \"BSONError\"","name":"ValidationError"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","message":"Error decoding token: Cannot access 'user' before initialization","stack":"ReferenceError: Cannot access 'user' before initialization\n    at Socket.<anonymous> (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/sockets/cart.sockets.js:52:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"Error decoding token: Cannot access 'user' before initialization","stack":"ReferenceError: Cannot access 'user' before initialization\n    at Socket.<anonymous> (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/sockets/cart.sockets.js:53:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"Error decoding token: Cannot access 'user' before initialization","stack":"ReferenceError: Cannot access 'user' before initialization\n    at Socket.<anonymous> (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/sockets/cart.sockets.js:53:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"Error decoding token: Cannot access 'user' before initialization","stack":"ReferenceError: Cannot access 'user' before initialization\n    at Socket.<anonymous> (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/sockets/cart.sockets.js:53:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"Error decoding token: Cannot access 'user' before initialization","stack":"ReferenceError: Cannot access 'user' before initialization\n    at Socket.<anonymous> (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/sockets/cart.sockets.js:53:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error"}
{"level":"error"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ cart: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ cart: undefined }\"","value":{},"valueType":"Object"}
{"level":"error"}
{"level":"error"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ cart: '64cd7cb9802eaf715fb09f84' }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ cart: '64cd7cb9802eaf715fb09f84' }\"","value":{"cart":"64cd7cb9802eaf715fb09f84"},"valueType":"Object"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:90:51)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:90:51)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:90:51)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:90:51)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:90:51)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:90:51)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:90:51)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:89:54)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:89:54)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:89:54)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"level":"error","message":"Error: existingProduct is not defined","stack":"ReferenceError: existingProduct is not defined\n    at CartManager.updateQtyCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/cartManager.js:89:54)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async CartsRouter.updateQtyProductInCart (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/carts.controller.js:270:22)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error"}
{"body":"null","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"-2","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"-2","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"-2","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"-2","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"code":2,"level":"error","name":"Product input error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"level":"error"}
{"_message":"products validation failed","errors":{"owner":{"kind":"string","message":"Cast to string failed for value \"AdminDTO {\n  id: 0,\n  first_name: 'Admin',\n  last_name: 'Admin',\n  age: 0,\n  role: 'admin',\n  email: 'adminCoder@coder.com'\n}\" (type AdminDTO) at path \"owner\"","name":"CastError","path":"owner","reason":null,"stringValue":"\"AdminDTO {\n  id: 0,\n  first_name: 'Admin',\n  last_name: 'Admin',\n  age: 0,\n  role: 'admin',\n  email: 'adminCoder@coder.com'\n}\"","value":{"age":0,"email":"adminCoder@coder.com","first_name":"Admin","id":0,"last_name":"Admin","role":"admin"},"valueType":"AdminDTO"}},"level":"error","message":"products validation failed: owner: Cast to string failed for value \"AdminDTO {\n  id: 0,\n  first_name: 'Admin',\n  last_name: 'Admin',\n  age: 0,\n  role: 'admin',\n  email: 'adminCoder@coder.com'\n}\" (type AdminDTO) at path \"owner\"","name":"ValidationError"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","view":{"defaultEngine":"handlebars","ext":".handlebars","name":"productPage","root":"/Users/luli/Desktop/entrega 3/Re-estructura/src/views"}}
{"level":"error","view":{"defaultEngine":"handlebars","ext":".handlebars","name":"productPage","root":"/Users/luli/Desktop/entrega 3/Re-estructura/src/views"}}
{"level":"error","message":"Error fetching product: Cannot read properties of null (reading 'owner')","stack":"TypeError: Cannot read properties of null (reading 'owner')\n    at ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:19:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error","message":"Error fetching product: Cannot read properties of null (reading 'owner')","stack":"TypeError: Cannot read properties of null (reading 'owner')\n    at ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:19:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:76:9"}
{"level":"error","message":"Missing helper: \"eq\"","name":"Error"}
{"level":"error","message":"#if requires exactly one argument","name":"Error"}
{"level":"error","message":"#if requires exactly one argument","name":"Error"}
{"level":"error"}
{"level":"error","message":"Missing helper: \"eq\"","name":"Error"}
{"level":"error","message":"Missing helper: \"eq\"","name":"Error"}
{"level":"error","message":"Missing helper: \"eq\"","name":"Error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","message":"Missing helper: \"includes\"","name":"Error"}
{"level":"error","message":"Missing helper: \"eq\"","name":"Error"}
{"level":"error","message":"Missing helper: \"include\"","name":"Error"}
{"level":"error","message":"Missing helper: \"include\"","name":"Error"}
{"level":"error","message":"Missing helper: \"include\"","name":"Error"}
{"kind":"ObjectId","level":"error","message":"Error decoding token: Cast to ObjectId failed for value \"{ cart: new ObjectId(\"64da7cb1f16471da36399e65\") }\" (type Object) at path \"_id\" for model \"Users\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"{ cart: new ObjectId(\"64da7cb1f16471da36399e65\") }\" (type Object) at path \"_id\" for model \"Users\"\n    at ObjectId.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at ObjectId.SchemaType.applySetters (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1220:12)\n    at ObjectId.SchemaType.castForQuery (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1632:15)\n    at cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/cast.js:298:34)\n    at model.Query.Query.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4900:12)\n    at model.Query.Query._castConditions (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2223:10)\n    at model.Query._findOneAndUpdate (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:3291:8)\n    at model.Query.exec (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4419:28)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"{ cart: new ObjectId(\"64da7cb1f16471da36399e65\") }\"","value":{"cart":"64da7cb1f16471da36399e65"},"valueType":"Object"}
{"kind":"ObjectId","level":"error","message":"Error decoding token: Cast to ObjectId failed for value \"{ cart: new ObjectId(\"64da7cb1f16471da36399e6c\") }\" (type Object) at path \"_id\" for model \"Users\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"{ cart: new ObjectId(\"64da7cb1f16471da36399e6c\") }\" (type Object) at path \"_id\" for model \"Users\"\n    at ObjectId.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at ObjectId.SchemaType.applySetters (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1220:12)\n    at ObjectId.SchemaType.castForQuery (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1632:15)\n    at cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/cast.js:298:34)\n    at model.Query.Query.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4900:12)\n    at model.Query.Query._castConditions (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2223:10)\n    at model.Query._findOneAndUpdate (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:3291:8)\n    at model.Query.exec (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4419:28)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"{ cart: new ObjectId(\"64da7cb1f16471da36399e6c\") }\"","value":{"cart":"64da7cb1f16471da36399e6c"},"valueType":"Object"}
{"level":"error","message":"Missing helper: \"include\"","name":"Error"}
{"kind":"ObjectId","level":"error","message":"Error decoding token: Cast to ObjectId failed for value \"{ cart: new ObjectId(\"64da7cd9f16471da36399e8b\") }\" (type Object) at path \"_id\" for model \"Users\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"{ cart: new ObjectId(\"64da7cd9f16471da36399e8b\") }\" (type Object) at path \"_id\" for model \"Users\"\n    at ObjectId.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at ObjectId.SchemaType.applySetters (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1220:12)\n    at ObjectId.SchemaType.castForQuery (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1632:15)\n    at cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/cast.js:298:34)\n    at model.Query.Query.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4900:12)\n    at model.Query.Query._castConditions (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2223:10)\n    at model.Query._findOneAndUpdate (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:3291:8)\n    at model.Query.exec (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4419:28)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"{ cart: new ObjectId(\"64da7cd9f16471da36399e8b\") }\"","value":{"cart":"64da7cd9f16471da36399e8b"},"valueType":"Object"}
{"code":2,"level":"error","name":"Product input error","status":400}
{"code":2,"level":"error","name":"Product input error","status":400}
{"level":"error"}
{"body":"\"USER\"","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"level":"error","message":"Missing helper: \"ne\"","name":"Error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","message":"Missing helper: \"eq\"","name":"Error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","message":"Missing helper: \"console.log\"","name":"Error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","message":"Missing helper: \"equals\"","name":"Error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","message":"Missing helper: \"qualsIgnoreCase\"","name":"Error"}
{"level":"error","view":{"defaultEngine":"handlebars","ext":".handlebars","name":"restoreRequest","root":"/Users/luli/Desktop/entrega 3/Re-estructura/src/views"}}
{"level":"error","view":{"defaultEngine":"handlebars","ext":".handlebars","name":"restoreRequest","root":"/Users/luli/Desktop/entrega 3/Re-estructura/src/views"}}
{"level":"error","view":{"defaultEngine":"handlebars","ext":".handlebars","name":"restoreRequest","root":"/Users/luli/Desktop/entrega 3/Re-estructura/src/views"}}
{"level":"error","view":{"defaultEngine":"handlebars","ext":".handlebars","name":"restoreRequest","root":"/Users/luli/Desktop/entrega 3/Re-estructura/src/views"}}
{"level":"error","view":{"defaultEngine":"handlebars","ext":".handlebars","name":"restoreRequest","root":"/Users/luli/Desktop/entrega 3/Re-estructura/src/views"}}
{"level":"error","view":{"defaultEngine":"handlebars","ext":".handlebars","name":"restoreRequest","root":"/Users/luli/Desktop/entrega 3/Re-estructura/src/views"}}
{"level":"error","view":{"defaultEngine":"handlebars","ext":".handlebars","name":"restoreRequest","root":"/Users/luli/Desktop/entrega 3/Re-estructura/src/views"}}
{"level":"error","view":{"defaultEngine":"handlebars","ext":".handlebars","name":"restoreRequest","root":"/Users/luli/Desktop/entrega 3/Re-estructura/src/views"}}
{"code":"ENOENT","errno":-2,"level":"error","path":"/Users/luli/Desktop/entrega 3/Re-estructura/src/views/layouts/main.handlebars","syscall":"open"}
{"code":"ENOENT","errno":-2,"level":"error","path":"/Users/luli/Desktop/entrega 3/Re-estructura/src/views/layouts/main.handlebars","syscall":"open"}
{"level":"error","view":{"defaultEngine":"handlebars","ext":".handlebars","name":"restoreRequest","root":"/Users/luli/Desktop/entrega 3/Re-estructura/src/views"}}
{"level":"error","view":{"defaultEngine":"handlebars","ext":".handlebars","name":"restoreRequest","root":"/Users/luli/Desktop/entrega 3/Re-estructura/src/views"}}
{"level":"error","view":{"defaultEngine":"handlebars","ext":".handlebars","name":"restoreRequest","root":"/Users/luli/Desktop/entrega 3/Re-estructura/src/views"}}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"kind":"string","level":"error","message":"Error updating user role: Cast to string failed for value \"{ role: 'PREMIUM' }\" (type Object) at path \"role\"","path":"role","reason":null,"stack":"CastError: Cast to string failed for value \"{ role: 'PREMIUM' }\" (type Object) at path \"role\"\n    at SchemaString.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/string.js:606:11)\n    at SchemaString.SchemaType.applySetters (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1220:12)\n    at SchemaString.castForQuery (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/string.js:690:15)\n    at castUpdateVal (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/helpers/query/castUpdate.js:557:19)\n    at walkUpdatePath (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/helpers/query/castUpdate.js:277:22)\n    at castUpdate (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/helpers/query/castUpdate.js:92:7)\n    at model.Query._castUpdate (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4699:10)\n    at model.Query._findOneAndUpdate (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:3313:23)\n    at model.Query.exec (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4419:28)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"{ role: 'PREMIUM' }\"","value":{"role":"PREMIUM"},"valueType":"Object"}
{"kind":"string","level":"error","message":"Error updating user role: Cast to string failed for value \"{ role: 'PREMIUM' }\" (type Object) at path \"role\"","path":"role","reason":null,"stack":"CastError: Cast to string failed for value \"{ role: 'PREMIUM' }\" (type Object) at path \"role\"\n    at SchemaString.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/string.js:606:11)\n    at SchemaString.SchemaType.applySetters (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1220:12)\n    at SchemaString.castForQuery (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/string.js:690:15)\n    at castUpdateVal (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/helpers/query/castUpdate.js:557:19)\n    at walkUpdatePath (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/helpers/query/castUpdate.js:277:22)\n    at castUpdate (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/helpers/query/castUpdate.js:92:7)\n    at model.Query._castUpdate (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4699:10)\n    at model.Query._findOneAndUpdate (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:3313:23)\n    at model.Query.exec (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4419:28)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"{ role: 'PREMIUM' }\"","value":{"role":"PREMIUM"},"valueType":"Object"}
{"kind":"string","level":"error","message":"Error updating user role: Cast to string failed for value \"{ role: 'PREMIUM' }\" (type Object) at path \"role\"","path":"role","reason":null,"stack":"CastError: Cast to string failed for value \"{ role: 'PREMIUM' }\" (type Object) at path \"role\"\n    at SchemaString.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/string.js:606:11)\n    at SchemaString.SchemaType.applySetters (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1220:12)\n    at SchemaString.castForQuery (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/string.js:690:15)\n    at castUpdateVal (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/helpers/query/castUpdate.js:557:19)\n    at walkUpdatePath (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/helpers/query/castUpdate.js:277:22)\n    at castUpdate (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/helpers/query/castUpdate.js:92:7)\n    at model.Query._castUpdate (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4699:10)\n    at model.Query._findOneAndUpdate (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:3313:23)\n    at model.Query.exec (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4419:28)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"{ role: 'PREMIUM' }\"","value":{"role":"PREMIUM"},"valueType":"Object"}
{"level":"error","message":"Error updating user role: rol is not defined","stack":"ReferenceError: rol is not defined\n    at SessionsRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:99:27)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:77:24\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/auth.js:41:7\n    at JwtStrategy.strategy.success (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/passport/lib/middleware/authenticate.js:222:18)\n    at verified (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/passport-jwt/lib/strategy.js:115:41)\n    at JwtStrategy._verify (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/config/passport.config.js:169:16)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"body":"[\n  {\n    \"pid\": \"646cec5e8c2c9940b25d7807\",\n    \"title\": \"Ulysses Nardin Freak One\",\n     \"description\": \"la luna\n  },\n  {\n    \"pid\": \"646ee1600456bb786b005fd7\",\n    \"title\": \"Chopard Happy Diamonds Icons Necklace\",\n    \"quantity\": 10\n  }\n]\n","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"[\n  {\n    \"pid\": \"646cec5e8c2c9940b25d7807\",\n    \"title\": \"Ulysses Nardin Freak One\",\n     \"description\": \"la luna\n  },\n  {\n    \"pid\": \"646ee1600456bb786b005fd7\",\n    \"title\": \"Chopard Happy Diamonds Icons Necklace\",\n    \"quantity\": 10\n  }\n]\n","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"[\n  {\n    \"pid\": \"646cec5e8c2c9940b25d7807\",\n    \"title\": \"Ulysses Nardin Freak One\",\n     \"description\": \"la luna\n  },\n  {\n    \"pid\": \"646ee1600456bb786b005fd7\",\n    \"title\": \"Chopard Happy Diamonds Icons Necklace\",\n    \"quantity\": 10\n  }\n]\n","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"body":"[\n  {\n    \"pid\": \"646cec5e8c2c9940b25d7807\",\n    \"title\": \"Ulysses Nardin Freak One\",\n     \"description\": \"la tierra\"\n  },\n  {\n    \"pid\": \"646ee1600456bb786b005fd7\",\n    \"title\": \"Chopard Happy Diamonds Icons Earrings,\n    \"quantity\": 10\n  }\n]\n","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"\n","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"[\n  {\n    \"pid\": \"646cec5e8c2c9940b25d7807\",\n    \"title\": \"Ulysses Nardin Freak One\",\n     \"description\": \"el planeta\"\n  },\n  {\n    \"pid\": \"646ee1600456bb786b005fd7\",\n    \"title\": \"Chopard Happy Diamonds Icons Earrings\",\n   \n  }\n]\n","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"[\n  {\n    \"pid\": \"646cec5e8c2c9940b25d7807\",\n    \"title\": \"Ulysses Nardin Freak One\",\n     \"description\": \"el planeta\",\n\n  },\n  {\n    \"pid\": \"646ee1600456bb786b005fd7\",\n    \"title\": \"Chopard Happy Diamonds Icons Earrings\",\n    \"quantity\": 25\n  }\n]\n","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"[\n  {\n    \"pid\": \"646cec5e8c2c9940b25d7807\",\n    \"title\": \"Ulysses Nardin Freak One\",\n     \"description\": \"el planetita \",\n   \n  },\n  {\n    \"pid\": \"646ee1600456bb786b005fd7\",\n    \"title\": \"Chopard Happy Diamonds Icons Neclace\",\n    \"quantity\": 5\n  }\n]\n","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"{\n  \"pid\": 646cec5e8c2c9940b25d7801,\n  \"title\": \"string\",\n  \"description\": \"string\",\n  \"stock\": 0,\n\"caca\":0\n}","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"level":"error","message":"Product not found in cart"}
{"body":"{\n  \"quantity\": 60,\n  \"title\": \"prueba\",\n  \"description\": \"desde postman\",\n}","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"{\n  \"quantity\": 20,\n\n}","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","message":"Missing helper: \"isArray\"","name":"Error"}
{"level":"error","message":"Error fetching product: Cannot read properties of null (reading 'owner')","stack":"TypeError: Cannot read properties of null (reading 'owner')\n    at ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:20:34)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"_message":"products validation failed","errors":{"thumbnail":{"kind":"string","message":"Cast to string failed for value \"[]\" (type Array) at path \"thumbnail\"","name":"CastError","path":"thumbnail","reason":null,"stringValue":"\"[]\"","value":[],"valueType":"Array"}},"level":"error","message":"products validation failed: thumbnail: Cast to string failed for value \"[]\" (type Array) at path \"thumbnail\"","name":"ValidationError"}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"_message":"products validation failed","errors":{"thumbnail":{"kind":"string","message":"Cast to string failed for value \"[]\" (type Array) at path \"thumbnail\"","name":"CastError","path":"thumbnail","reason":null,"stringValue":"\"[]\"","value":[],"valueType":"Array"}},"level":"error","message":"products validation failed: thumbnail: Cast to string failed for value \"[]\" (type Array) at path \"thumbnail\"","name":"ValidationError"}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"kind":"ObjectId","level":"error","message":"Error fetching product: Cast to ObjectId failed for value \"${pid}\" (type string) at path \"_id\" for model \"products\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"${pid}\" (type string) at path \"_id\" for model \"products\"\n    at ObjectId.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at ObjectId.SchemaType.applySetters (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1220:12)\n    at ObjectId.SchemaType.castForQuery (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1632:15)\n    at cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/cast.js:356:32)\n    at model.Query.Query.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4900:12)\n    at model.Query.Query._castConditions (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2223:10)\n    at model.Query._findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2510:8)\n    at model.Query.exec (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4419:28)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:19:21)","stringValue":"\"${pid}\"","value":"${pid}","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Error fetching product: Cast to ObjectId failed for value \"${pid}\" (type string) at path \"_id\" for model \"products\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"${pid}\" (type string) at path \"_id\" for model \"products\"\n    at ObjectId.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at ObjectId.SchemaType.applySetters (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1220:12)\n    at ObjectId.SchemaType.castForQuery (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1632:15)\n    at cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/cast.js:356:32)\n    at model.Query.Query.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4900:12)\n    at model.Query.Query._castConditions (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2223:10)\n    at model.Query._findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2510:8)\n    at model.Query.exec (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4419:28)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:19:21)","stringValue":"\"${pid}\"","value":"${pid}","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Error fetching product: Cast to ObjectId failed for value \"${pid}\" (type string) at path \"_id\" for model \"products\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"${pid}\" (type string) at path \"_id\" for model \"products\"\n    at ObjectId.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at ObjectId.SchemaType.applySetters (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1220:12)\n    at ObjectId.SchemaType.castForQuery (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1632:15)\n    at cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/cast.js:356:32)\n    at model.Query.Query.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4900:12)\n    at model.Query.Query._castConditions (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2223:10)\n    at model.Query._findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2510:8)\n    at model.Query.exec (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4419:28)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:19:21)","stringValue":"\"${pid}\"","value":"${pid}","valueType":"string"}
{"body":"{\n     \"title\": \"hola\n}","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","message":"Error fetching product: Cannot read properties of null (reading 'owner')","stack":"TypeError: Cannot read properties of null (reading 'owner')\n    at ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:20:34)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"kind":"ObjectId","level":"error","message":"Error fetching product: Cast to ObjectId failed for value \"4ee0d61a3d3ad05bcb025ad\" (type string) at path \"_id\" for model \"products\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"4ee0d61a3d3ad05bcb025ad\" (type string) at path \"_id\" for model \"products\"\n    at ObjectId.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at ObjectId.SchemaType.applySetters (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1220:12)\n    at ObjectId.SchemaType.castForQuery (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1632:15)\n    at cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/cast.js:356:32)\n    at model.Query.Query.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4900:12)\n    at model.Query.Query._castConditions (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2223:10)\n    at model.Query._findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2510:8)\n    at model.Query.exec (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4419:28)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:19:21)","stringValue":"\"4ee0d61a3d3ad05bcb025ad\"","value":"4ee0d61a3d3ad05bcb025ad","valueType":"string"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"kind":"ObjectId","level":"error","message":"Error fetching product: Cast to ObjectId failed for value \"4ee085fcce1b8f48a0e74f1\" (type string) at path \"_id\" for model \"products\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"4ee085fcce1b8f48a0e74f1\" (type string) at path \"_id\" for model \"products\"\n    at ObjectId.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at ObjectId.SchemaType.applySetters (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1220:12)\n    at ObjectId.SchemaType.castForQuery (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1632:15)\n    at cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/cast.js:356:32)\n    at model.Query.Query.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4900:12)\n    at model.Query.Query._castConditions (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2223:10)\n    at model.Query._findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2510:8)\n    at model.Query.exec (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4419:28)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:19:21)","stringValue":"\"4ee085fcce1b8f48a0e74f1\"","value":"4ee085fcce1b8f48a0e74f1","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Error fetching product: Cast to ObjectId failed for value \":pid\" (type string) at path \"_id\" for model \"products\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \":pid\" (type string) at path \"_id\" for model \"products\"\n    at ObjectId.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at ObjectId.SchemaType.applySetters (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1220:12)\n    at ObjectId.SchemaType.castForQuery (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1632:15)\n    at cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/cast.js:356:32)\n    at model.Query.Query.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4900:12)\n    at model.Query.Query._castConditions (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2223:10)\n    at model.Query._findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2510:8)\n    at model.Query.exec (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4419:28)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:19:21)","stringValue":"\":pid\"","value":":pid","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Error fetching product: Cast to ObjectId failed for value \"jnj\" (type string) at path \"_id\" for model \"products\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"jnj\" (type string) at path \"_id\" for model \"products\"\n    at ObjectId.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at ObjectId.SchemaType.applySetters (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1220:12)\n    at ObjectId.SchemaType.castForQuery (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/schematype.js:1632:15)\n    at cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/cast.js:356:32)\n    at model.Query.Query.cast (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4900:12)\n    at model.Query.Query._castConditions (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2223:10)\n    at model.Query._findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2510:8)\n    at model.Query.exec (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:4419:28)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:19:21)","stringValue":"\"jnj\"","value":"jnj","valueType":"string"}
{"level":"error","message":"Error fetching product: Cannot read properties of null (reading 'owner')","stack":"TypeError: Cannot read properties of null (reading 'owner')\n    at ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:20:34)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error"}
{"level":"error","message":"Error fetching product: Cannot read properties of null (reading 'owner')","stack":"TypeError: Cannot read properties of null (reading 'owner')\n    at ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:20:34)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error fetching product: Cannot read properties of null (reading 'owner')","stack":"TypeError: Cannot read properties of null (reading 'owner')\n    at ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:20:34)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error fetching product: Cannot read properties of null (reading 'owner')","stack":"TypeError: Cannot read properties of null (reading 'owner')\n    at ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:20:34)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error fetching product: Cannot read properties of null (reading 'owner')","stack":"TypeError: Cannot read properties of null (reading 'owner')\n    at ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:20:34)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"level":"error"}
{"level":"error"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"Users\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","message":"Missing helper: \"equals\"","name":"Error"}
{"level":"error","message":"Missing helper: \"eq\"","name":"Error"}
{"level":"error","message":"Error updating user role: Parameter \"filter\" to findOne() must be an object, got \"6480f39d323f285a3a80cb5a\" (type string)","stack":"ObjectParameterError: Parameter \"filter\" to findOne() must be an object, got \"6480f39d323f285a3a80cb5a\" (type string)\n    at model.Query.Query.findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2589:16)\n    at Function.findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/model.js:2177:13)\n    at UsersManager.getUserBy (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/usersManager.js:14:36)\n    at UserRepository.getUserByService (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/repositories/user.service.js:10:25)\n    at SessionsRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:101:36)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:24\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/auth.js:41:7\n    at JwtStrategy.strategy.success (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/passport/lib/middleware/authenticate.js:222:18)"}
{"level":"error","message":"Error updating user role: Parameter \"filter\" to findOne() must be an object, got \"6480f39d323f285a3a80cb5a\" (type string)","stack":"ObjectParameterError: Parameter \"filter\" to findOne() must be an object, got \"6480f39d323f285a3a80cb5a\" (type string)\n    at model.Query.Query.findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2589:16)\n    at Function.findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/model.js:2177:13)\n    at UsersManager.getUserBy (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/usersManager.js:14:36)\n    at UserRepository.getUserByService (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/repositories/user.service.js:10:25)\n    at SessionsRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:101:36)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:24\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/auth.js:41:7\n    at JwtStrategy.strategy.success (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/passport/lib/middleware/authenticate.js:222:18)"}
{"level":"error","message":"Error updating user role: Parameter \"filter\" to findOne() must be an object, got \"6480f39d323f285a3a80cb5a\" (type string)","stack":"ObjectParameterError: Parameter \"filter\" to findOne() must be an object, got \"6480f39d323f285a3a80cb5a\" (type string)\n    at model.Query.Query.findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2589:16)\n    at Function.findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/model.js:2177:13)\n    at UsersManager.getUserBy (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/usersManager.js:14:36)\n    at UserRepository.getUserByService (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/repositories/user.service.js:10:25)\n    at SessionsRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:101:36)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:24\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/auth.js:41:7\n    at JwtStrategy.strategy.success (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/passport/lib/middleware/authenticate.js:222:18)"}
{"level":"error","message":"Error updating user role: Parameter \"filter\" to findOne() must be an object, got \"6480f39d323f285a3a80cb5a\" (type string)","stack":"ObjectParameterError: Parameter \"filter\" to findOne() must be an object, got \"6480f39d323f285a3a80cb5a\" (type string)\n    at model.Query.Query.findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2589:16)\n    at Function.findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/model.js:2177:13)\n    at UsersManager.getUserBy (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/usersManager.js:14:36)\n    at UserRepository.getUserByService (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/repositories/user.service.js:10:25)\n    at SessionsRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:101:36)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:24\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/auth.js:41:7\n    at JwtStrategy.strategy.success (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/passport/lib/middleware/authenticate.js:222:18)"}
{"level":"error","message":"Error updating user role: Parameter \"filter\" to findOne() must be an object, got \"6480f39d323f285a3a80cb5a\" (type string)","stack":"ObjectParameterError: Parameter \"filter\" to findOne() must be an object, got \"6480f39d323f285a3a80cb5a\" (type string)\n    at model.Query.Query.findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2589:16)\n    at Function.findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/model.js:2177:13)\n    at UsersManager.getUserBy (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/usersManager.js:14:36)\n    at UserRepository.getUserByService (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/repositories/user.service.js:10:25)\n    at SessionsRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:101:36)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:24\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/auth.js:41:7\n    at JwtStrategy.strategy.success (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/passport/lib/middleware/authenticate.js:222:18)"}
{"level":"error","message":"Error updating user role: Parameter \"filter\" to findOne() must be an object, got \"6480f39d323f285a3a80cb5a\" (type string)","stack":"ObjectParameterError: Parameter \"filter\" to findOne() must be an object, got \"6480f39d323f285a3a80cb5a\" (type string)\n    at model.Query.Query.findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2589:16)\n    at Function.findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/model.js:2177:13)\n    at UsersManager.getUserBy (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/usersManager.js:14:36)\n    at UserRepository.getUserByService (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/repositories/user.service.js:10:25)\n    at SessionsRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:101:36)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:24\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/auth.js:41:7\n    at JwtStrategy.strategy.success (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/passport/lib/middleware/authenticate.js:222:18)"}
{"level":"error","message":"Error updating user role: Parameter \"filter\" to findOne() must be an object, got \"6480f39d323f285a3a80cb5a\" (type string)","stack":"ObjectParameterError: Parameter \"filter\" to findOne() must be an object, got \"6480f39d323f285a3a80cb5a\" (type string)\n    at model.Query.Query.findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/query.js:2589:16)\n    at Function.findOne (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/mongoose/lib/model.js:2177:13)\n    at UsersManager.getUserBy (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/dao/mongo/managers/usersManager.js:14:36)\n    at UserRepository.getUserByService (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/repositories/user.service.js:10:25)\n    at SessionsRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:101:36)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:24\n    at Layer.handle [as handle_request] (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/router/route.js:144:13)\n    at file:///Users/luli/Desktop/entrega%203/Re-estructura/src/services/auth.js:41:7\n    at JwtStrategy.strategy.success (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/passport/lib/middleware/authenticate.js:222:18)"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at SessionsRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:104:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at SessionsRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:104:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at SessionsRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:104:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at SessionsRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:104:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: docs is not defined","stack":"ReferenceError: docs is not defined\n    at SessionsRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:112:78)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: docs is not defined","stack":"ReferenceError: docs is not defined\n    at SessionsRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:112:78)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: docs is not defined","stack":"ReferenceError: docs is not defined\n    at SessionsRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:112:78)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'forEach')","stack":"TypeError: Cannot read properties of undefined (reading 'forEach')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:105:16)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: expectedDocumentNames is not defined","stack":"ReferenceError: expectedDocumentNames is not defined\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:105:32)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: expectedDocumentNames is not defined","stack":"ReferenceError: expectedDocumentNames is not defined\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:105:32)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"code":"ERR_HTTP_INVALID_STATUS_CODE","level":"error","message":"Error updating user role: Invalid status code: {\n  message: 'Faltan documentos para cargar. Por favor, suba todos los documentos requeridos.'\n}","stack":"RangeError [ERR_HTTP_INVALID_STATUS_CODE]: Invalid status code: {\n  message: 'Faltan documentos para cargar. Por favor, suba todos los documentos requeridos.'\n}\n    at new NodeError (node:internal/errors:387:5)\n    at ServerResponse.writeHead (node:_http_server:297:11)\n    at ServerResponse.writeHead (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/on-headers/index.js:44:26)\n    at ServerResponse._implicitHeader (node:_http_server:288:8)\n    at write_ (node:_http_outgoing:826:9)\n    at ServerResponse.end (node:_http_outgoing:934:5)\n    at ServerResponse.end (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express-session/index.js:359:19)\n    at ServerResponse.send (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/response.js:232:10)\n    at ServerResponse.json (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/response.js:278:15)\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:137:23)"}
{"code":"ERR_HTTP_INVALID_STATUS_CODE","level":"error","message":"Error updating user role: Invalid status code: {\n  message: 'Faltan documentos para cargar. Por favor, suba todos los documentos requeridos.'\n}","stack":"RangeError [ERR_HTTP_INVALID_STATUS_CODE]: Invalid status code: {\n  message: 'Faltan documentos para cargar. Por favor, suba todos los documentos requeridos.'\n}\n    at new NodeError (node:internal/errors:387:5)\n    at ServerResponse.writeHead (node:_http_server:297:11)\n    at ServerResponse.writeHead (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/on-headers/index.js:44:26)\n    at ServerResponse._implicitHeader (node:_http_server:288:8)\n    at write_ (node:_http_outgoing:826:9)\n    at ServerResponse.end (node:_http_outgoing:934:5)\n    at ServerResponse.end (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express-session/index.js:359:19)\n    at ServerResponse.send (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/response.js:232:10)\n    at ServerResponse.json (/Users/luli/Desktop/entrega 3/Re-estructura/node_modules/express/lib/response.js:278:15)\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:137:23)"}
{"body":"[object Object]","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"[object Object]","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"[object Object]","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"_message":"products validation failed","errors":{"price":{"kind":"Number","message":"Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\"","name":"CastError","path":"price","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"Le falta el precio\"","value":"Le falta el precio","valueType":"string"},"status":{"kind":"enum","message":"`active` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["Active","Inactive"],"message":"`active` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"active"},"value":"active"}},"level":"error","message":"products validation failed: price: Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\", status: `active` is not a valid enum value for path `status`.","name":"ValidationError"}
{"_message":"products validation failed","errors":{"price":{"kind":"Number","message":"Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\"","name":"CastError","path":"price","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"Le falta el precio\"","value":"Le falta el precio","valueType":"string"},"status":{"kind":"enum","message":"`active` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["Active","Inactive"],"message":"`active` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"active"},"value":"active"}},"level":"error","message":"products validation failed: price: Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\", status: `active` is not a valid enum value for path `status`.","name":"ValidationError"}
{"_message":"products validation failed","errors":{"price":{"kind":"Number","message":"Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\"","name":"CastError","path":"price","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"Le falta el precio\"","value":"Le falta el precio","valueType":"string"},"status":{"kind":"enum","message":"`active` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["Active","Inactive"],"message":"`active` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"active"},"value":"active"}},"level":"error","message":"products validation failed: price: Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\", status: `active` is not a valid enum value for path `status`.","name":"ValidationError"}
{"_message":"products validation failed","errors":{"price":{"kind":"Number","message":"Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\"","name":"CastError","path":"price","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"Le falta el precio\"","value":"Le falta el precio","valueType":"string"},"status":{"kind":"enum","message":"`active` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["Active","Inactive"],"message":"`active` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"active"},"value":"active"}},"level":"error","message":"products validation failed: price: Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\", status: `active` is not a valid enum value for path `status`.","name":"ValidationError"}
{"_message":"products validation failed","errors":{"price":{"kind":"Number","message":"Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\"","name":"CastError","path":"price","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"Le falta el precio\"","value":"Le falta el precio","valueType":"string"},"status":{"kind":"enum","message":"`active` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["Active","Inactive"],"message":"`active` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"active"},"value":"active"}},"level":"error","message":"products validation failed: price: Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\", status: `active` is not a valid enum value for path `status`.","name":"ValidationError"}
{"_message":"products validation failed","errors":{"price":{"kind":"Number","message":"Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\"","name":"CastError","path":"price","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"Le falta el precio\"","value":"Le falta el precio","valueType":"string"},"status":{"kind":"enum","message":"`active` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["Active","Inactive"],"message":"`active` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"active"},"value":"active"}},"level":"error","message":"products validation failed: price: Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\", status: `active` is not a valid enum value for path `status`.","name":"ValidationError"}
{"_message":"products validation failed","errors":{"price":{"kind":"Number","message":"Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\"","name":"CastError","path":"price","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"Le falta el precio\"","value":"Le falta el precio","valueType":"string"},"status":{"kind":"enum","message":"`active` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["Active","Inactive"],"message":"`active` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"active"},"value":"active"}},"level":"error","message":"products validation failed: price: Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\", status: `active` is not a valid enum value for path `status`.","name":"ValidationError"}
{"_message":"products validation failed","errors":{"price":{"kind":"Number","message":"Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\"","name":"CastError","path":"price","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"Le falta el precio\"","value":"Le falta el precio","valueType":"string"},"status":{"kind":"enum","message":"`active` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["Active","Inactive"],"message":"`active` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"active"},"value":"active"}},"level":"error","message":"products validation failed: price: Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\", status: `active` is not a valid enum value for path `status`.","name":"ValidationError"}
{"_message":"products validation failed","errors":{"price":{"kind":"Number","message":"Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\"","name":"CastError","path":"price","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"Le falta el precio\"","value":"Le falta el precio","valueType":"string"},"status":{"kind":"enum","message":"`active` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["Active","Inactive"],"message":"`active` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"active"},"value":"active"}},"level":"error","message":"products validation failed: price: Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\", status: `active` is not a valid enum value for path `status`.","name":"ValidationError"}
{"_message":"products validation failed","errors":{"price":{"kind":"Number","message":"Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\"","name":"CastError","path":"price","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"Le falta el precio\"","value":"Le falta el precio","valueType":"string"},"status":{"kind":"enum","message":"`active` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["Active","Inactive"],"message":"`active` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"active"},"value":"active"}},"level":"error","message":"products validation failed: price: Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\", status: `active` is not a valid enum value for path `status`.","name":"ValidationError"}
{"_message":"products validation failed","errors":{"price":{"kind":"Number","message":"Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\"","name":"CastError","path":"price","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"Le falta el precio\"","value":"Le falta el precio","valueType":"string"},"status":{"kind":"enum","message":"`active` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["Active","Inactive"],"message":"`active` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"active"},"value":"active"}},"level":"error","message":"products validation failed: price: Cast to Number failed for value \"Le falta el precio\" (type string) at path \"price\", status: `active` is not a valid enum value for path `status`.","name":"ValidationError"}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"_message":"products validation failed","errors":{"thumbnail":{"kind":"string","message":"Cast to string failed for value \"{}\" (type Object) at path \"thumbnail\"","name":"CastError","path":"thumbnail","reason":null,"stringValue":"\"{}\"","value":{},"valueType":"Object"}},"level":"error","message":"products validation failed: thumbnail: Cast to string failed for value \"{}\" (type Object) at path \"thumbnail\"","name":"ValidationError"}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"_message":"products validation failed","errors":{"thumbnail":{"kind":"string","message":"Cast to string failed for value \"{}\" (type Object) at path \"thumbnail\"","name":"CastError","path":"thumbnail","reason":null,"stringValue":"\"{}\"","value":{},"valueType":"Object"}},"level":"error","message":"products validation failed: thumbnail: Cast to string failed for value \"{}\" (type Object) at path \"thumbnail\"","name":"ValidationError"}
{"_message":"products validation failed","errors":{"thumbnail":{"kind":"string","message":"Cast to string failed for value \"{}\" (type Object) at path \"thumbnail\"","name":"CastError","path":"thumbnail","reason":null,"stringValue":"\"{}\"","value":{},"valueType":"Object"}},"level":"error","message":"products validation failed: thumbnail: Cast to string failed for value \"{}\" (type Object) at path \"thumbnail\"","name":"ValidationError"}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"_message":"products validation failed","errors":{"thumbnail":{"kind":"string","message":"Cast to string failed for value \"{}\" (type Object) at path \"thumbnail\"","name":"CastError","path":"thumbnail","reason":null,"stringValue":"\"{}\"","value":{},"valueType":"Object"}},"level":"error","message":"products validation failed: thumbnail: Cast to string failed for value \"{}\" (type Object) at path \"thumbnail\"","name":"ValidationError"}
{"_message":"products validation failed","errors":{"thumbnail":{"kind":"string","message":"Cast to string failed for value \"{}\" (type Object) at path \"thumbnail\"","name":"CastError","path":"thumbnail","reason":null,"stringValue":"\"{}\"","value":{},"valueType":"Object"}},"level":"error","message":"products validation failed: thumbnail: Cast to string failed for value \"{}\" (type Object) at path \"thumbnail\"","name":"ValidationError"}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"_message":"products validation failed","errors":{"thumbnail":{"kind":"string","message":"Cast to string failed for value \"{}\" (type Object) at path \"thumbnail\"","name":"CastError","path":"thumbnail","reason":null,"stringValue":"\"{}\"","value":{},"valueType":"Object"}},"level":"error","message":"products validation failed: thumbnail: Cast to string failed for value \"{}\" (type Object) at path \"thumbnail\"","name":"ValidationError"}
{"body":"[object Object]","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"body":"[object Object]","expose":true,"level":"error","status":400,"statusCode":400,"type":"entity.parse.failed"}
{"code":"LIMIT_UNEXPECTED_FILE","field":"thumbnail","level":"error","message":"Unexpected field","name":"MulterError","storageErrors":[]}
{"code":"LIMIT_UNEXPECTED_FILE","field":"thumbnail","level":"error","message":"Unexpected field","name":"MulterError","storageErrors":[]}
{"level":"error"}
{"_message":"products validation failed","errors":{"thumbnail":{"kind":"embedded","message":"Cast to embedded failed for value \"null\" (type string) at path \"thumbnail\" because of \"ObjectParameterError\"","name":"CastError","path":"thumbnail","reason":{},"stringValue":"\"null\"","value":"null","valueType":"string"}},"level":"error","message":"products validation failed: thumbnail: Cast to embedded failed for value \"null\" (type string) at path \"thumbnail\" because of \"ObjectParameterError\"","name":"ValidationError"}
{"level":"error"}
{"_message":"products validation failed","errors":{"thumbnail":{"kind":"embedded","message":"Cast to embedded failed for value \"No image\" (type string) at path \"thumbnail\" because of \"ObjectParameterError\"","name":"CastError","path":"thumbnail","reason":{},"stringValue":"\"No image\"","value":"No image","valueType":"string"}},"level":"error","message":"products validation failed: thumbnail: Cast to embedded failed for value \"No image\" (type string) at path \"thumbnail\" because of \"ObjectParameterError\"","name":"ValidationError"}
{"_message":"products validation failed","errors":{"thumbnail":{"kind":"embedded","message":"Cast to embedded failed for value \"No image\" (type string) at path \"thumbnail\" because of \"ObjectParameterError\"","name":"CastError","path":"thumbnail","reason":{},"stringValue":"\"No image\"","value":"No image","valueType":"string"}},"level":"error","message":"products validation failed: thumbnail: Cast to embedded failed for value \"No image\" (type string) at path \"thumbnail\" because of \"ObjectParameterError\"","name":"ValidationError"}
{"_message":"products validation failed","errors":{"thumbnail":{"kind":"embedded","message":"Cast to embedded failed for value \"No image\" (type string) at path \"thumbnail\" because of \"ObjectParameterError\"","name":"CastError","path":"thumbnail","reason":{},"stringValue":"\"No image\"","value":"No image","valueType":"string"}},"level":"error","message":"products validation failed: thumbnail: Cast to embedded failed for value \"No image\" (type string) at path \"thumbnail\" because of \"ObjectParameterError\"","name":"ValidationError"}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"code":"LIMIT_UNEXPECTED_FILE","field":"profile","level":"error","message":"Unexpected field","name":"MulterError","storageErrors":[]}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"code":1,"level":"error","name":"Product creation error","status":400}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"code":2,"level":"error","name":"Product input error","status":400}
{"code":2,"level":"error","name":"Product input error","status":400}
{"code":2,"level":"error","name":"Product input error","status":400}
{"code":2,"level":"error","name":"Product input error","status":400}
{"code":2,"level":"error","name":"Product input error","status":400}
{"code":2,"level":"error","name":"Product input error","status":400}
{"code":2,"level":"error","name":"Product input error","status":400}
{"code":2,"level":"error","name":"Product input error","status":400}
{"code":2,"level":"error","name":"Product input error","status":400}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","message":"Missing helper: \"user.role\"","name":"Error"}
{"level":"error","message":"Missing helper: \"user.role\"","name":"Error"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:107:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:107:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:107:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:107:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:107:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:107:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:107:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: response is not defined","stack":"ReferenceError: response is not defined\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:139:28)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Missing helper: \"notEqual\"","name":"Error"}
{"level":"error","message":"Missing helper: \"notEqual\"","name":"Error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","message":"Missing helper: \"notEqual\"","name":"Error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"column":7,"endColumn":11,"endLineNumber":24,"level":"error","lineNumber":24,"message":"each doesn't match if - 24:7","name":"Error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error","message":"Error fetching product: Cannot read properties of null (reading 'owner')","stack":"TypeError: Cannot read properties of null (reading 'owner')\n    at ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:20:34)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error fetching product: Cannot read properties of null (reading 'owner')","stack":"TypeError: Cannot read properties of null (reading 'owner')\n    at ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:20:34)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"_message":"products validation failed","errors":{"thumbnail":{"kind":"string","message":"Cast to string failed for value \"[\n  {\n    fieldname: 'thumbnail',\n    originalname: 'camisas.png',\n    encoding: '7bit',\n    mimetype: 'image/png',\n    destination: '/Users/luli/Desktop/entrega 3/Re-estructura/src/public/img/products',\n    filename: '1694291256153-camisas.png',\n    path: '/Users/luli/Desktop/entrega 3/Re-estructura/src/public/img/products/1694291256153-camisas.png',\n    size: 252775\n  }\n]\" (type Array) at path \"thumbnail\"","name":"CastError","path":"thumbnail","reason":null,"stringValue":"\"[\n  {\n    fieldname: 'thumbnail',\n    originalname: 'camisas.png',\n    encoding: '7bit',\n    mimetype: 'image/png',\n    destination: '/Users/luli/Desktop/entrega 3/Re-estructura/src/public/img/products',\n    filename: '1694291256153-camisas.png',\n    path: '/Users/luli/Desktop/entrega 3/Re-estructura/src/public/img/products/1694291256153-camisas.png',\n    size: 252775\n  }\n]\"","value":[{"destination":"/Users/luli/Desktop/entrega 3/Re-estructura/src/public/img/products","encoding":"7bit","fieldname":"thumbnail","filename":"1694291256153-camisas.png","mimetype":"image/png","originalname":"camisas.png","path":"/Users/luli/Desktop/entrega 3/Re-estructura/src/public/img/products/1694291256153-camisas.png","size":252775}],"valueType":"Array"}},"level":"error","message":"products validation failed: thumbnail: Cast to string failed for value \"[\n  {\n    fieldname: 'thumbnail',\n    originalname: 'camisas.png',\n    encoding: '7bit',\n    mimetype: 'image/png',\n    destination: '/Users/luli/Desktop/entrega 3/Re-estructura/src/public/img/products',\n    filename: '1694291256153-camisas.png',\n    path: '/Users/luli/Desktop/entrega 3/Re-estructura/src/public/img/products/1694291256153-camisas.png',\n    size: 252775\n  }\n]\" (type Array) at path \"thumbnail\"","name":"ValidationError"}
{"_message":"products validation failed","errors":{"thumbnail":{"kind":"Embedded","message":"Cast to Embedded failed for value \"[\n  {\n    fieldname: 'thumbnail',\n    originalname: 'camisas.png',\n    encoding: '7bit',\n    mimetype: 'image/png',\n    destination: '/Users/luli/Desktop/entrega 3/Re-estructura/src/public/img/products',\n    filename: '1694291360426-camisas.png',\n    path: '/Users/luli/Desktop/entrega 3/Re-estructura/src/public/img/products/1694291360426-camisas.png',\n    size: 252775\n  }\n]\" (type Array) at path \"thumbnail\" because of \"ObjectExpectedError\"","name":"CastError","path":"thumbnail","reason":{"path":"thumbnail"},"stringValue":"\"[\n  {\n    fieldname: 'thumbnail',\n    originalname: 'camisas.png',\n    encoding: '7bit',\n    mimetype: 'image/png',\n    destination: '/Users/luli/Desktop/entrega 3/Re-estructura/src/public/img/products',\n    filename: '1694291360426-camisas.png',\n    path: '/Users/luli/Desktop/entrega 3/Re-estructura/src/public/img/products/1694291360426-camisas.png',\n    size: 252775\n  }\n]\"","value":[{"destination":"/Users/luli/Desktop/entrega 3/Re-estructura/src/public/img/products","encoding":"7bit","fieldname":"thumbnail","filename":"1694291360426-camisas.png","mimetype":"image/png","originalname":"camisas.png","path":"/Users/luli/Desktop/entrega 3/Re-estructura/src/public/img/products/1694291360426-camisas.png","size":252775}],"valueType":"Array"}},"level":"error","message":"products validation failed: thumbnail: Cast to Embedded failed for value \"[\n  {\n    fieldname: 'thumbnail',\n    originalname: 'camisas.png',\n    encoding: '7bit',\n    mimetype: 'image/png',\n    destination: '/Users/luli/Desktop/entrega 3/Re-estructura/src/public/img/products',\n    filename: '1694291360426-camisas.png',\n    path: '/Users/luli/Desktop/entrega 3/Re-estructura/src/public/img/products/1694291360426-camisas.png',\n    size: 252775\n  }\n]\" (type Array) at path \"thumbnail\" because of \"ObjectExpectedError\"","name":"ValidationError"}
{"level":"error","message":"Error fetching product: Cannot read properties of null (reading 'owner')","stack":"TypeError: Cannot read properties of null (reading 'owner')\n    at ProductsRouter.modifyProducts (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/middlewares/modifyProducts.js:20:34)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:107:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:107:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:107:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:107:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:107:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:107:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:107:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:107:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:107:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:107:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:109:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:109:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:109:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:109:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: user.documents.find is not a function","stack":"TypeError: user.documents.find is not a function\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:109:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:109:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"_message":"Users validation failed","errors":{"documents":{"kind":"Embedded","message":"Cast to Embedded failed for value \"[]\" (type Array) at path \"documents\" because of \"ObjectExpectedError\"","name":"CastError","path":"documents","reason":{"path":"documents"},"stringValue":"\"[]\"","value":[],"valueType":"Array"}},"level":"error","message":"Users validation failed: documents: Cast to Embedded failed for value \"[]\" (type Array) at path \"documents\" because of \"ObjectExpectedError\"","name":"ValidationError"}
{"level":"error","message":"Error updating user role: user.documents.find is not a function","stack":"TypeError: user.documents.find is not a function\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:109:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: user.documents.find is not a function","stack":"TypeError: user.documents.find is not a function\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:109:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
{"level":"error","message":"Error updating user role: user.documents.find is not a function","stack":"TypeError: user.documents.find is not a function\n    at UsersRouter.selectRole (file:///Users/luli/Desktop/entrega%203/Re-estructura/src/controllers/users.controller.js:109:44)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async file:///Users/luli/Desktop/entrega%203/Re-estructura/src/routes/Router.js:91:9"}
